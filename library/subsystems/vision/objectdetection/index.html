
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../apriltag/">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.47">
    
    
      
        <title>Object Detection - Team 5152 Robot Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#photonvision-object-detection-subsystem" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Team 5152 Robot Documentation" class="md-header__button md-logo" aria-label="Team 5152 Robot Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Team 5152 Robot Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Object Detection
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/5152alotobots/5152_Template" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    alotobots/5152_Template
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Team 5152 Robot Documentation" class="md-nav__button md-logo" aria-label="Team 5152 Robot Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Team 5152 Robot Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/5152alotobots/5152_Template" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    alotobots/5152_Template
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Game
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Game
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../game/subsystems/controls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controls
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Library
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Commands
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/drivefacingbestobject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DriveFacingBestObject Command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/pathfindtobestobject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PathfindToBestObject Command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/defaultsettoalliancecolor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DefaultSetToAllianceColor Command
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Subsystems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Subsystems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pneumatics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pneumatics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../swerve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swerve
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vision
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Vision
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apriltag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AprilTag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Object Detection
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Object Detection
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detectedobject-class" class="md-nav__link">
    <span class="md-ellipsis">
      DetectedObject Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#photonvisionobjectdetectionsubsystem" class="md-nav__link">
    <span class="md-ellipsis">
      PhotonVisionObjectDetectionSubsystem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetry-system" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-operation" class="md-nav__link">
    <span class="md-ellipsis">
      System Operation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detection-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Detection Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Object Persistence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-and-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration and Tuning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration and Tuning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constants-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Constants Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-cameras" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Cameras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-game-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Game Elements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javadoc" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Documentation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detectedobject-class" class="md-nav__link">
    <span class="md-ellipsis">
      DetectedObject Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#photonvisionobjectdetectionsubsystem" class="md-nav__link">
    <span class="md-ellipsis">
      PhotonVisionObjectDetectionSubsystem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetry-system" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-operation" class="md-nav__link">
    <span class="md-ellipsis">
      System Operation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detection-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Detection Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Object Persistence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-and-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration and Tuning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration and Tuning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constants-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Constants Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-cameras" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Cameras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-game-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Game Elements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="photonvision-object-detection-subsystem">PhotonVision Object Detection Subsystem</h1>
<h2 id="overview">Overview</h2>
<p>The PhotonVision Object Detection System is a sophisticated computer vision subsystem designed for FRC robots. It provides real-time detection and tracking of game pieces and other objects using multiple PhotonVision cameras. The system maintains object persistence across frames, handles confidence decay, and provides comprehensive telemetry data for debugging and visualization.</p>
<p>For AprilTag-specific vision features, see the <a href="../apriltag/">AprilTag documentation</a>.</p>
<p>Related commands:
- <a href="../../../commands/drivefacingbestobject/">DriveFacingBestObject</a>
- <a href="../../../commands/pathfindtobestobject/">PathfindToBestObject</a></p>
<h2 id="core-components">Core Components</h2>
<h3 id="detectedobject-class">DetectedObject Class</h3>
<p>The DetectedObject class serves as the fundamental unit of object tracking. It encapsulates:
- 3D pose information in field coordinates
- Raw PhotonVision target data
- Camera-to-robot transform data
- Confidence tracking
- Distance and angle calculations</p>
<p>Each detected object maintains a confidence value that decays over time when the object is not actively detected, helping filter out spurious detections while maintaining object persistence when detection is briefly lost.</p>
<h3 id="photonvisionobjectdetectionsubsystem">PhotonVisionObjectDetectionSubsystem</h3>
<p>This is the main subsystem class that orchestrates the entire detection system. Key responsibilities include:
1. Managing multiple PhotonVision cameras
2. Processing incoming vision data
3. Maintaining the list of detected objects
4. Handling object persistence and matching
5. Managing detection timers for filtering false positives</p>
<p>The subsystem implements several sophisticated mechanisms:
- <strong>Object Matching</strong>: Uses position-based matching to update existing objects rather than creating duplicates
- <strong>Confidence Decay</strong>: Gradually reduces confidence in objects that haven't been seen recently
- <strong>Detection Timers</strong>: Requires consistent detection over time before adding new objects
- <strong>Multi-Camera Integration</strong>: Processes and combines data from multiple cameras</p>
<h3 id="telemetry-system">Telemetry System</h3>
<p>The telemetry component provides comprehensive debugging and visualization capabilities:
- Real-time field visualization
- Per-camera statistics and controls
- Object tracking visualization with tracer lines
- Confidence and position data for detected objects
- Toggle switches for enabling/disabling features</p>
<h2 id="system-operation">System Operation</h2>
<h3 id="detection-pipeline">Detection Pipeline</h3>
<ol>
<li>
<p><strong>Camera Processing</strong></p>
<ul>
<li>Each enabled camera's latest frame is processed</li>
<li>Raw targets are extracted from PhotonVision</li>
<li>Targets are converted to field-relative 3D poses</li>
</ul>
</li>
<li>
<p><strong>Object Management</strong></p>
<ul>
<li>New detections are matched against existing objects</li>
<li>Matched objects have their confidence refreshed</li>
<li>Unmatched detections start a detection timer</li>
<li>Objects passing the minimum detection time are added to tracking</li>
</ul>
</li>
<li>
<p><strong>Maintenance</strong></p>
<ul>
<li>Confidence values decay over time</li>
<li>Stale objects are removed</li>
<li>Detection timers are cleaned up</li>
<li>Telemetry is updated</li>
</ul>
</li>
</ol>
<h3 id="object-persistence">Object Persistence</h3>
<p>The system uses several mechanisms to maintain reliable object tracking:
- Position-based matching within a configurable tolerance
- Confidence decay for graceful degradation
- Detection timers to prevent false positives
- Grace periods for temporary detection loss</p>
<h2 id="configuration-and-tuning">Configuration and Tuning</h2>
<h3 id="constants-configuration">Constants Configuration</h3>
<p>Key parameters that need tuning in PhotonVisionObjectDetectionSubsystemConstants:</p>
<ol>
<li>
<p><strong>Camera Configuration</strong></p>
<ul>
<li><code>CAMERAS</code>: Array of PhotonCamera objects</li>
<li><code>CAMERA_OFFSETS</code>: 3D transforms from robot center to each camera
   <code>java
   new Transform3d(
   new Translation3d(x, y, z),
   new Rotation3d(roll, pitch, yaw)
   )</code></li>
</ul>
</li>
<li>
<p><strong>Detection Parameters</strong></p>
<ul>
<li><code>INITIAL_CONFIDENCE</code> (0.99): Starting confidence for new detections</li>
<li><code>CONFIDENCE_DECAY_RATE</code> (0.33): How quickly confidence decreases</li>
<li><code>MIN_CONFIDENCE</code> (0.0): Threshold for removing objects</li>
<li><code>POSITION_MATCH_TOLERANCE</code> (0.5m): Distance threshold for matching objects</li>
<li><code>MINIMUM_DETECTION_TIME</code> (0.25s): Required consistent detection time</li>
<li><code>TIMER_CLEANUP_GRACE_PERIOD</code> (5.0s): How long to maintain detection timers</li>
</ul>
</li>
</ol>
<h3 id="adding-new-cameras">Adding New Cameras</h3>
<p>To add a new camera:
1. Add a new PhotonCamera instance to the <code>CAMERAS</code> array:
   <code>java
   public static final PhotonCamera[] CAMERAS = new PhotonCamera[] {
       new PhotonCamera("Camera1"),
       new PhotonCamera("Camera2")  // New camera
   };</code>
2. Add corresponding offset transform in <code>CAMERA_OFFSETS</code>:
   <code>java
   public static final Transform3d[] CAMERA_OFFSETS = new Transform3d[] {
       existing_transform,
       new Transform3d(
           new Translation3d(x, y, z),
           new Rotation3d(roll, pitch, yaw)
       )
   };</code></p>
<h3 id="adding-new-game-elements">Adding New Game Elements</h3>
<p>To add new detectable objects:
1. Add new GameElement to <code>GAME_ELEMENTS</code> array:
   <code>java
   public static final GameElement[] GAME_ELEMENTS = new GameElement[] {
       existing_element,
       new GameElement("NewObject", length, width, height)
   };</code>
2. Ensure the array index matches the class ID from PhotonVision's model</p>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li>
<p><strong>Camera Placement</strong></p>
<ul>
<li>Mount cameras with clear fields of view</li>
<li>Minimize exposure to bright lights and sun</li>
<li>Ensure rigid mounting to prevent vibration</li>
<li>Accurately measure and configure offsets</li>
</ul>
</li>
<li>
<p><strong>Tuning</strong></p>
<ul>
<li>Start with higher confidence decay rates</li>
<li>Adjust position tolerance based on field size</li>
<li>Tune minimum detection time based on frame rate</li>
<li>Set appropriate grace periods for your game piece dynamics</li>
</ul>
</li>
<li>
<p><strong>Performance</strong></p>
<ul>
<li>Enable only necessary cameras</li>
<li>Use teleop-only mode when appropriate</li>
<li>Monitor CPU usage and adjust parameters</li>
<li>Clean up stale objects and timers regularly</li>
</ul>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>